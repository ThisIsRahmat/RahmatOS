---

import Layout from '../../layouts/Layout.astro';


interface Post {
  title: string;
}

const query = {
  method: "POST",
  headers: { "Content-Type": "application/json" },
  body: JSON.stringify({
   query: `
      {
           posts(orderBy: publishedAt_ASC) {
          title
          overview
          publishedAt
          category
        slug
        
         
        
        }
      }`,
  }),
};

const response = await fetch(import.meta.env.HYGRAPH_ENDPOINT, query);
const json = await response.json()
console.log("This is json")

console.log(json)
const posts: Post[] = json.data;
console.log("This is posts")

console.log(posts)


---


<Layout title="Books">

   <h1
                    class="text-3xl  tracking-tighter  font-display font-normal md:text-6xl lg:text-4xl xl:text-4xl text "              
                    
                    >


                   Blogs
                    </h1>


    {
      json.data.posts.map((post) => (
        <div>
        <a href=`/blog/${post.slug}`>
          <h2>{post.title}</h2>
<p></p>
          </a>
        </div>
      ))
    }


<!-- Work on fetching books from literal
const response = await fetch("https://literal.club/graphql/",
  {
    method: 'POST',
    headers: {'Content-Type':'application/json'},
    body: JSON.stringify({
      query: `
        query getFilm ($id:ID!) {
          film(id: $id) {
            title
            releaseDate
          }
        }
      `,
      variables: {
        id: "ZmlsbXM6MQ==",
      },
    }),
  }); --!>

</Layout>


